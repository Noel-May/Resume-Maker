<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resume Maker</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* === General Reset === */
    * {margin:0; padding:0; box-sizing:border-box;}
    body {font-family: 'Arial', sans-serif; background: linear-gradient(135deg, #f0f0f0, #dcdcdc); color: #111;}
    button {cursor:pointer;}

    /* === Landing Page === */
    #landingPage {display:flex; flex-direction:column; justify-content:center; align-items:center; height:100vh; text-align:center; background: linear-gradient(120deg, #4A90E2, #9013FE);}
    #landingPage h1 {font-size:3rem; color:white; margin-bottom:1rem;}
    #landingPage p {font-size:1.2rem; color:white; margin-bottom:2rem;}
    #startBtn {padding:1rem 2rem; font-size:1.2rem; border:none; border-radius:10px; background:white; color:#4A90E2; transition:0.3s;}
    #startBtn:hover {transform:scale(1.1);}

    /* === Form Section === */
    #resumeBuilder {display:none; padding:2rem; max-width:1200px; margin:0 auto;}
    form {display:grid; gap:1rem; background:white; padding:2rem; border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.2);}
    form label {font-weight:bold; margin-bottom:0.3rem;}
    form input, form textarea, form select {padding:0.7rem; border:1px solid #ccc; border-radius:5px; width:100%; font-size:1rem;}
    form textarea {resize:none;}
    .form-section {display:grid; gap:0.5rem;}

    /* === Template Selector === */
    #templateSelect {margin-top:1rem; padding:0.7rem; border-radius:5px; border:1px solid #ccc; font-size:1rem;}

    /* === Resume Preview === */
    #resumePreview {margin-top:2rem; padding:2rem; border-radius:15px; min-height:500px; overflow:hidden; transition:0.3s;}
    .resume-section {margin-bottom:1rem;}
    .section-title {font-size:1.5rem; font-weight:bold; margin-bottom:0.3rem; border-bottom:2px solid #ccc; display:inline-block;}
    .info-text {font-size:1rem; margin-left:0.5rem;}
    .skills-badge {display:inline-block; background:#4A90E2; color:white; padding:0.3rem 0.6rem; border-radius:5px; margin:0.2rem; font-size:0.9rem; transition:0.3s;}
    .skills-badge:hover {transform:scale(1.1);}

    /* === Buttons for Export === */
    #actions {margin-top:1.5rem; display:flex; gap:1rem; flex-wrap:wrap;}
    #actions button {padding:0.7rem 1.2rem; border:none; border-radius:10px; background:#4A90E2; color:white; font-size:1rem; transition:0.3s;}
    #actions button:hover {transform:scale(1.05);}

    /* === Templates Colors === */
    .template-white {background:white; color:#111;}
    .template-blue {background:#4A90E2; color:white;}
    .template-gold {background:#FFD700; color:#111;}

    /* === Print Friendly for PDF === */
    @media print {
      body {background:white;}
      #resumePreview {width:210mm; min-height:297mm; padding:20mm; overflow:visible;}
      .skills-badge {animation:none;}
    }
  </style>
</head>
<body>

  <!-- Landing Page -->
  <section id="landingPage">
    <h1>Resume Maker âœ¨</h1>
    <p>Create a professional CV in minutes with 3 sleek templates!</p>
    <button id="startBtn">Start Creating</button>
  </section>

  <!-- Resume Builder -->
  <section id="resumeBuilder">
    <form id="resumeForm">
      <div class="form-section">
        <label for="fullName">Full Name</label>
        <input type="text" id="fullName" placeholder="Jane Doe">
      </div>
      <div class="form-section">
        <label for="jobTitle">Job Title</label>
        <input type="text" id="jobTitle" placeholder="Frontend Developer">
      </div>
      <div class="form-section">
        <label for="summary">Professional Summary</label>
        <textarea id="summary" rows="3" placeholder="Write 2-3 sentences about yourself..."></textarea>
      </div>
      <div class="form-section">
        <label for="skills">Skills (comma-separated)</label>
        <input type="text" id="skills" placeholder="JavaScript, React, HTML, CSS">
      </div>
      <div class="form-section">
        <label for="education">Education</label>
        <input type="text" id="education" placeholder="BSc Computer Science, ABC University, 2022">
      </div>
      <div class="form-section">
        <label for="certificates">Certificates</label>
        <input type="text" id="certificates" placeholder="FreeCodeCamp Frontend, Coursera React">
      </div>
      <div class="form-section">
        <label for="languages">Languages</label>
        <input type="text" id="languages" placeholder="English, Spanish">
      </div>
      <div class="form-section">
        <label for="jobDesc">Job Description (for matching)</label>
        <textarea id="jobDesc" rows="3" placeholder="Paste the job description here..."></textarea>
      </div>
      <div class="form-section">
        <label for="templateSelect">Choose Template</label>
        <select id="templateSelect">
          <option value="white">White</option>
          <option value="blue">Blue</option>
          <option value="gold">Gold</option>
        </select>
      </div>
    </form>

    <div id="actions">
      <button id="matchJob">Match Job Description</button>
      <button id="exportPDF">Export as PDF</button>
      <button id="exportWord">Export as Word (DOCX)</button>
    </div>

    <div id="resumePreview" class="template-white">
      <!-- Resume Sections -->
      <div class="resume-section">
        <div class="section-title">Full Name</div>
        <div class="info-text" id="previewFullName"></div>
      </div>
      <div class="resume-section">
        <div class="section-title">Job Title</div>
        <div class="info-text" id="previewJobTitle"></div>
      </div>
      <div class="resume-section">
        <div class="section-title">Professional Summary</div>
        <div class="info-text" id="previewSummary"></div>
      </div>
      <div class="resume-section">
        <div class="section-title">Skills</div>
        <div class="info-text" id="previewSkills"></div>
      </div>
      <div class="resume-section">
        <div class="section-title">Education</div>
        <div class="info-text" id="previewEducation"></div>
      </div>
      <div class="resume-section">
        <div class="section-title">Certificates</div>
        <div class="info-text" id="previewCertificates"></div>
      </div>
      <div class="resume-section">
        <div class="section-title">Languages</div>
        <div class="info-text" id="previewLanguages"></div>
      </div>
      <div class="resume-section">
        <div class="section-title">Job Match Score</div>
        <div class="info-text" id="previewJobMatch"></div>
      </div>
    </div>
  </section>

  <!-- JS Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

  <script>
    // === Elements ===
    const landingPage = document.getElementById('landingPage');
    const startBtn = document.getElementById('startBtn');
    const resumeBuilder = document.getElementById('resumeBuilder');
    const resumeForm = document.getElementById('resumeForm');
    const templateSelect = document.getElementById('templateSelect');
    const resumePreview = document.getElementById('resumePreview');

    const previewFullName = document.getElementById('previewFullName');
    const previewJobTitle = document.getElementById('previewJobTitle');
    const previewSummary = document.getElementById('previewSummary');
    const previewSkills = document.getElementById('previewSkills');
    const previewEducation = document.getElementById('previewEducation');
    const previewCertificates = document.getElementById('previewCertificates');
    const previewLanguages = document.getElementById('previewLanguages');
    const previewJobMatch = document.getElementById('previewJobMatch');

    const matchJobBtn = document.getElementById('matchJob');
    const exportPDFBtn = document.getElementById('exportPDF');
    const exportWordBtn = document.getElementById('exportWord');

    // === Landing Page ===
    startBtn.addEventListener('click', () => {
      landingPage.style.display = 'none';
      resumeBuilder.style.display = 'block';
    });

    // === Live Preview Function ===
    resumeForm.addEventListener('input', () => {
      previewFullName.textContent = document.getElementById('fullName').value;
      previewJobTitle.textContent = document.getElementById('jobTitle').value;
      previewSummary.textContent = document.getElementById('summary').value;
      previewSkills.innerHTML = '';
      const skillsArray = document.getElementById('skills').value.split(',');
      skillsArray.forEach(skill => {
        if(skill.trim()!=='') {
          const span = document.createElement('span');
          span.className = 'skills-badge';
          span.textContent = skill.trim();
          previewSkills.appendChild(span);
        }
      });
      previewEducation.textContent = document.getElementById('education').value;
      previewCertificates.textContent = document.getElementById('certificates').value;
      previewLanguages.textContent = document.getElementById('languages').value;
    });

    // === Template Change ===
    templateSelect.addEventListener('change', () => {
      resumePreview.className = '';
      if(templateSelect.value==='white') resumePreview.classList.add('template-white');
      if(templateSelect.value==='blue') resumePreview.classList.add('template-blue');
      if(templateSelect.value==='gold') resumePreview.classList.add('template-gold');
    });

    // === Job Match Function ===
    matchJobBtn.addEventListener('click', () => {
      const skills = document.getElementById('skills').value.toLowerCase().split(',');
      const jobDesc = document.getElementById('jobDesc').value.toLowerCase();
      let matchCount = 0;
      skills.forEach(skill => {
        if(jobDesc.includes(skill.trim())) matchCount++;
      });
      const matchPercent = skills.length ? Math.round((matchCount/skills.length)*100) : 0;
      previewJobMatch.textContent = matchPercent + '%';
      alert(`Job Match Score: ${matchPercent}%`);
    });

    // === PDF Export ===
    exportPDFBtn.addEventListener('click', () => {
      html2canvas(resumePreview, {scale:2}).then(canvas=>{
        const imgData = canvas.toDataURL('image/png');
        const pdf = new jspdf.jsPDF('p','mm','a4');
        const pdfWidth = 210;
        const pdfHeight = (canvas.height * pdfWidth) / canvas.width;
        pdf.addImage(imgData,'PNG',0,0,pdfWidth,pdfHeight);
        pdf.save('resume.pdf');
      });
    });

    // === Word Export ===
    exportWordBtn.addEventListener('click', () => {
      let content = `
      <html>
        <head>
          <style>
            body {font-family: Arial, sans-serif; padding:20px;}
            h2 {color:#4A90E2; border-bottom:1px solid #ccc;}
            .section {margin-bottom:15px;}
          </style>
        </head>
        <body>
          <h1>${document.getElementById('fullName').value}</h1>
          <h2>Job Title</h2><p>${document.getElementById('jobTitle').value}</p>
          <h2>Professional Summary</h2><p>${document.getElementById('summary').value}</p>
          <h2>Skills</h2><p>${document.getElementById('skills').value}</p>
          <h2>Education</h2><p>${document.getElementById('education').value}</p>
          <h2>Certificates</h2><p>${document.getElementById('certificates').value}</p>
          <h2>Languages</h2><p>${document.getElementById('languages').value}</p>
        </body>
      </html>`;
      const blob = new Blob(['\ufeff', content], {type:'application/msword'});
      saveAs(blob, 'resume.doc');
    });
  </script>
</body>
</html>
